{%- from 'hadoop/map.jinja' import hadoop with context %}
{# set temp = hadoop #}


{
  "blueprint": "{{ hadoop.blueprint }}",
  "default_password": "admin",
  "host_groups": [
    {% for hostgroup in hadoop.host_groups %}{
      "hosts": [
      {% for fqdns in hostgroup.hosts %}{
        "fqdn": "{{ fqdns.fqdn }}"
      }{% if not loop.last %},
      {% endif %}{% endfor %}
      ],
      "name": "{{ hostgroup.name }}"
    }{% if not loop.last %},
    {% endif %}{% endfor %}
  ]
}